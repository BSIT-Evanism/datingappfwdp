<script lang="ts" setup>
async function signup(e: Event) {
  await $fetch("/api/signup", {
    method: "POST",
    body: new FormData(e.target as HTMLFormElement)
  });
  await navigateTo("/");
}
</script>

<template>
  <div class="bg-[#D9D9D9] w-full h-screen flex items-center justify-center">
    <div class="flex flex-col gap-4 bg-white">
      <svg width="345" height="76" viewBox="0 0 345 76" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect width="345" height="76" fill="#25283D" />
        <path
          d="M129.84 25.96C131.2 25.96 132 26.4533 132.24 27.44C132.24 27.84 131.853 28.2667 131.08 28.72L129.76 28.36H129.6C128.107 28.36 126.4 30.48 124.48 34.72C124.213 35.76 124.08 36.76 124.08 37.72V39.36H124.24C127.493 38.5867 129.573 38.2 130.48 38.2C131.653 38.4133 132.24 38.88 132.24 39.6C132 40.3467 131.613 40.72 131.08 40.72L130.36 40.6C127.64 40.84 125.64 41.2533 124.36 41.84V42.12L124.84 48.6C124.84 51.6667 124.227 53.2 123 53.2C122.573 53.2 122.187 52.8667 121.84 52.2C122.267 51.1067 122.48 49.7333 122.48 48.08C122.48 46.4 122.32 44.4933 122 42.36L120.08 42.6C118.347 42.44 117.48 41.8933 117.48 40.96C117.747 40.2133 118.173 39.84 118.76 39.84L119.76 40.12H120.48L121.76 39.96V37.72C121.76 33.5867 123.587 29.96 127.24 26.84C128.067 26.2533 128.933 25.96 129.84 25.96ZM143.489 22.36C145.649 22.36 148.316 23.7733 151.489 26.6C155.809 31.6133 157.969 36.8133 157.969 42.2C157.969 47.56 155.342 51.2267 150.089 53.2L148.969 53.36C146.142 53.36 143.929 51.3067 142.329 47.2H142.249C141.316 50.5333 140.062 52.2 138.489 52.2H138.249C136.169 52.2 134.742 48.28 133.969 40.44V38.12C134.022 35.3467 134.809 33.76 136.329 33.36C136.756 33.36 137.142 33.7733 137.489 34.6C136.716 35.6667 136.329 36.92 136.329 38.36V38.72C136.329 43.6533 137.049 47.32 138.489 49.72C139.556 48.9467 140.342 45.7733 140.849 40.2C140.849 35.6933 141.182 33.44 141.849 33.44L142.249 33.36C143.129 33.36 143.569 34.2267 143.569 35.96L143.329 40.36C143.329 43.32 144.249 46.4 146.089 49.6C146.996 50.5067 147.916 50.96 148.849 50.96C150.369 50.96 151.996 50.0133 153.729 48.12C154.956 46.4933 155.569 44.44 155.569 41.96C155.569 36.4667 153.156 31.4267 148.329 26.84C147.076 25.8267 145.156 25 142.569 24.36L142.249 23.6C142.436 22.7733 142.849 22.36 143.489 22.36ZM163.358 27.64C167.118 27.64 170.744 29.64 174.238 33.64C175.304 35.7467 175.838 37.7867 175.838 39.76C175.838 44.4 173.478 47.8133 168.758 50C167.238 50.6667 165.598 51 163.838 51H162.838C161.851 50.9733 161.358 50.56 161.358 49.76H161.238C161.238 49.04 161.691 48.6667 162.598 48.64H163.518V48.4H163.598C161.944 41.3867 161.118 36.1733 161.118 32.76H160.998L159.998 33.4C159.304 33.4 158.891 32.9333 158.758 32C158.758 30.5333 159.584 29.2533 161.238 28.16C161.904 27.8133 162.611 27.64 163.358 27.64ZM163.838 30H163.518V31.92C163.518 36.2933 164.344 41.7867 165.998 48.4H166.118C171.051 47.0667 173.518 44.1867 173.518 39.76C173.518 35.0133 170.758 31.84 165.238 30.24C164.918 30.08 164.451 30 163.838 30ZM184.808 24.72H185.448C189.795 24.72 192.582 26.2933 193.808 29.44L193.928 30.72V31.12C193.928 34.2133 192.048 37.08 188.288 39.72C187.382 39.9867 186.928 40.28 186.928 40.6C187.995 44.68 188.528 48.0133 188.528 50.6V51.12C188.528 52.1867 188.088 52.72 187.208 52.72C186.542 52.64 186.208 52.3067 186.208 51.72V50.72C186.208 47.6533 185.648 44.32 184.528 40.72C182.368 40.5333 181.168 39.9467 180.928 38.96V38.72C180.928 38.24 181.302 37.8667 182.048 37.6L183.808 38.2V38.12C182.902 34.1733 182.448 31.5067 182.448 30.12C182.448 29.3467 182.902 28.96 183.808 28.96C184.635 28.96 185.048 30.3733 185.048 33.2L186.208 37.96C188.128 37.32 189.622 36.0667 190.688 34.2C191.248 33.1333 191.528 32.1867 191.528 31.36V30.84C191.528 28.6533 189.662 27.4133 185.928 27.12H184.288C180.635 27.52 178.808 28.3867 178.808 29.72V29.96C178.808 30.36 179.022 30.9867 179.448 31.84C179.448 32.4267 178.982 32.8 178.048 32.96C176.982 32.4533 176.448 31.4133 176.448 29.84C176.448 26.9067 179.235 25.2 184.808 24.72ZM203.092 35.56C204.265 35.56 204.852 36.0267 204.852 36.96L204.492 37.72L204.252 45.04C204.252 48.3467 204.918 50.4 206.252 51.2L206.332 51.8C206.252 52.5733 205.892 52.96 205.252 52.96H205.012C203.012 51.6 202.012 49.52 202.012 46.72H201.732C200.665 49.7067 199.372 51.2 197.852 51.2C196.438 50.8 195.732 49.7467 195.732 48.04C195.732 44.28 197.238 40.5333 200.252 36.8C201.265 35.9733 202.212 35.56 203.092 35.56ZM198.252 46.44L198.092 47.56V48.32H198.492C200.492 43.3333 201.492 40.2933 201.492 39.2H201.332C199.785 40.9333 198.758 43.3467 198.252 46.44ZM207.771 30.16C208.785 30.3733 209.291 30.8267 209.291 31.52C209.025 32.2667 208.598 32.64 208.011 32.64C207.025 32.4533 206.531 31.96 206.531 31.16C206.798 30.4933 207.211 30.16 207.771 30.16ZM209.291 35.76C209.718 35.76 210.078 36.1467 210.371 36.92L210.011 39.76V41.64C210.011 43.8267 210.385 46.6933 211.131 50.24C210.865 50.7467 210.411 51 209.771 51C208.678 51 207.958 47.8 207.611 41.4V40C207.611 37.1733 208.171 35.76 209.291 35.76ZM218.47 35.24C220.15 35.24 221.15 36.4133 221.47 38.76V39.12C221.47 41.7067 220.136 44.08 217.47 46.24C219.016 47.76 221.723 48.52 225.59 48.52C226.176 48.7067 226.47 49.12 226.47 49.76C226.47 50.48 226.003 50.84 225.07 50.84C222.456 50.84 219.71 50.1733 216.83 48.84V50C216.83 52.7467 216.243 54.12 215.07 54.12C214.243 54.12 213.83 52.5333 213.83 49.36V46.24L213.71 45.12L213.99 43.84L213.71 40V39.84C213.71 39.12 214.083 38.6267 214.83 38.36C215.87 36.28 217.083 35.24 218.47 35.24ZM216.47 44C217.243 44 218.11 42.6133 219.07 39.84V38.12L218.59 37.6H218.23C217.056 38.4 216.47 40.5333 216.47 44Z"
          fill="white" />
      </svg>
      <form method="post" class="flex flex-col gap-2 p-4 justify-center items-center" action="/api/signup"
        @submit.prevent="signup">
        <label class="font-semibold" htmlFor="username">Username</label>
        <input class="border-2 border-solid p-2 border-[#25283D]" name="username" id="username" />
        <br />
        <label class="font-semibold" htmlFor="email">Email</label>
        <input class="border-2 border-solid p-2 border-[#25283D]" name="email" id="email" />
        <br />
        <label class="font-semibold" htmlFor="password">Password</label>
        <input type="password" class="border-2 border-solid p-2 border-[#25283D]" name="password" id="password" />
        <br />
        <button type="submit" class="text-center w-[80%] my-2 bg-[#25283D] text-white py-4">Register</button>
      </form>
    </div>
  </div>
</template>